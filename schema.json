{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "DXCC Entity Data Schema",
    "description": "Schema for DXCC (DX Century Club) entity data generated by dxcc-txt2json.js",
    "type": "object",
    "required": ["metadata", "entities"],
    "properties": {
        "metadata": {
        "type": "object",
        "description": "Metadata information about the DXCC data",
        "required": [
            "description",
            "edition",
            "filterType",
            "notes",
            "continents",
            "zoneNotes",
            "generatedAt",
            "sourceFile",
            "version",
            "author",
            "statistics"
        ],
        "properties": {
            "description": {
            "type": "string",
            "description": "Description of the data content"
            },
            "edition": {
            "type": "string",
            "description": "Edition information extracted from source file"
            },
            "filterType": {
            "type": "string",
            "enum": ["all", "current", "deleted"],
            "description": "Type of entities included in the data"
            },
            "notes": {
            "type": "object",
            "description": "All notes including symbol notes and numbered notes",
            "patternProperties": {
                "^(qsl_service|third_party_traffic|antarctica_special|current_note_\\d+|deleted_note_\\d+)$": {
                "type": "string"
                }
            },
            "additionalProperties": false
            },
            "continents": {
            "type": "object",
            "description": "Continent code mappings",
            "properties": {
                "AF": { "type": "string", "const": "Africa" },
                "AN": { "type": "string", "const": "Antarctica" },
                "AS": { "type": "string", "const": "Asia" },
                "EU": { "type": "string", "const": "Europe" },
                "NA": { "type": "string", "const": "North America" },
                "OC": { "type": "string", "const": "Oceania" },
                "SA": { "type": "string", "const": "South America" }
            },
            "additionalProperties": false
            },
            "zoneNotes": {
            "type": "object",
            "description": "Zone letter to number mappings",
            "patternProperties": {
                "^[A-Z]$": {
                "type": "string",
                "pattern": "^[0-9, -]+$"
                }
            },
            "additionalProperties": false
            },
            "generatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "ISO timestamp when the data was generated"
            },
            "sourceFile": {
            "type": "string",
            "description": "Name of the source text file"
            },
            "version": {
            "type": "string",
            "description": "Version of the parser script"
            },
            "author": {
            "type": "string",
            "description": "Author of the parser script"
            },
            "statistics": {
            "type": "object",
            "description": "Statistical information about the parsed data",
            "required": [
                "totalParsed",
                "currentEntities",
                "deletedEntities",
                "continents",
                "notesStatistics"
            ],
            "properties": {
                "totalParsed": {
                "type": "integer",
                "minimum": 0,
                "description": "Total number of entities parsed"
                },
                "currentEntities": {
                "type": "integer",
                "minimum": 0,
                "description": "Number of current entities"
                },
                "deletedEntities": {
                "type": "integer",
                "minimum": 0,
                "description": "Number of deleted entities"
                },
                "continents": {
                "type": "object",
                "description": "Entity count by continent",
                "patternProperties": {
                    "^(AF|AN|AS|EU|NA|OC|SA)(,(AF|AN|AS|EU|NA|OC|SA))*$": {
                    "type": "integer",
                    "minimum": 0
                    }
                },
                "additionalProperties": false
                },
                "notesStatistics": {
                "type": "object",
                "description": "Statistics about notes",
                "required": [
                    "currentNotesCount",
                    "deletedNotesCount",
                    "zoneNotesCount"
                ],
                "properties": {
                    "currentNotesCount": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Number of current entity notes"
                    },
                    "deletedNotesCount": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Number of deleted entity notes"
                    },
                    "zoneNotesCount": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Number of zone notes"
                    }
                },
                "additionalProperties": false
                }
            },
            "additionalProperties": false
            }
        },
        "additionalProperties": false
        },
        "entities": {
        "type": "array",
        "description": "Array of DXCC entities",
        "items": {
            "type": "object",
            "description": "Individual DXCC entity",
            "required": [
            "prefix",
            "entity",
            "continent",
            "zoneITU",
            "zoneCQ",
            "entityCode",
            "notes",
            "isCurrent"
            ],
            "properties": {
            "prefix": {
                "type": "string",
                "description": "Entity prefix (cleaned of special characters and notes)"
            },
            "entity": {
                "type": "string",
                "description": "Entity name"
            },
            "continent": {
                "type": "string",
                "pattern": "^(AF|AN|AS|EU|NA|OC|SA)(,(AF|AN|AS|EU|NA|OC|SA))*$",
                "description": "Continent code(s)"
            },
            "zoneITU": {
                "type": "string",
                "description": "ITU Zone number or letter code"
            },
            "zoneCQ": {
                "type": "string",
                "description": "CQ Zone number or letter code"
            },
            "entityCode": {
                "type": "integer",
                "minimum": 1,
                "description": "DXCC entity code number"
            },
            "notes": {
                "type": "array",
                "description": "Array of note references for this entity",
                "items": {
                "type": "string",
                "pattern": "^(qsl_service|third_party_traffic|antarctica_special|current_note_\\d+|deleted_note_\\d+)$"
                }
            },
            "isCurrent": {
                "type": "boolean",
                "description": "Whether this is a current (true) or deleted (false) entity"
            }
            },
            "additionalProperties": false
        }
        }
    },
    "additionalProperties": false
}